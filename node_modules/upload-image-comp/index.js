const installObj = {
  react: require("react"),
  babelPluginSyntaxDynamicImport: require("@babel/plugin-syntax-dynamic-import"),
  babelCore: require("@babel/core"),
  babelPresetEnv: require("@babel/preset-env"),
  babelPresetReact: require("@babel/preset-react"),
};

const installKeys = Object.keys(installObj);

const hasInstall = installKeys.every((key) => installObj[key]);

if (!hasInstall) {
  throw new Error(
    "本插件依赖于:react、@babel/preset-env、@babel/preset-react、@babel/core、@babel/plugin-syntax-dynamic-import，请安装之后再使用"
  );
} else {
  module.exports = require("./lib/index.js");
}
